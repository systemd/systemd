<?xml version="1.0"?>
<!--*-nxml-*-->
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % entities SYSTEM "custom-entities.ent" >
%entities;
]>
<!-- SPDX-License-Identifier: LGPL-2.1-or-later -->

<refentry id="org.freedesktop.timesync1" conditional='ENABLE_TIMESYNCD'
    xmlns:xi="http://www.w3.org/2001/XInclude">
  <refentryinfo>
    <title>org.freedesktop.timesync1</title>
    <productname>systemd</productname>
  </refentryinfo>

  <refmeta>
    <refentrytitle>org.freedesktop.timesync1</refentrytitle>
    <manvolnum>5</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>org.freedesktop.timesync1</refname>
    <refpurpose>The D-Bus interface of systemd-timesyncd</refpurpose>
  </refnamediv>

  <refsect1>
    <title>Introduction</title>

    <para>
    <citerefentry><refentrytitle>systemd-timesyncd.service</refentrytitle><manvolnum>8</manvolnum></citerefentry>
    is a system service that may be used to synchronize the local system clock with a remote Network Time
    Protocol (NTP) server. This page describes the D-Bus interface.</para>
  </refsect1>

  <refsect1>
    <title>The Manager Object</title>

    <para>The service exposes the following interfaces on the Manager object on the bus:</para>

    <programlisting executable="systemd-timesyncd" node="/org/freedesktop/timesync1" interface="org.freedesktop.timesync1.Manager">
node /org/freedesktop/timesync1 {
  interface org.freedesktop.timesync1.Manager {
    methods:
      SetRuntimeNTPServers(in  as runtime_servers);
    properties:
      readonly as LinkNTPServers = ['...', ...];
      readonly as SystemNTPServers = ['...', ...];
      readonly as RuntimeNTPServers = ['...', ...];
      readonly as FallbackNTPServers = ['...', ...];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s ServerName = '...';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly (iay) ServerAddress = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t RootDistanceMaxUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t PollIntervalMinUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t PollIntervalMaxUSec = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly t PollIntervalUSec = ...;
      readonly (uuuuittayttttbtt) NTPMessage = ...;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly x Frequency = ...;
  };
  interface org.freedesktop.DBus.Peer { ... };
  interface org.freedesktop.DBus.Introspectable { ... };
  interface org.freedesktop.DBus.Properties { ... };
};
</programlisting>

    <!--method SetRuntimeNTPServers is not documented!-->

    <!--property LinkNTPServers is not documented!-->

    <!--property SystemNTPServers is not documented!-->

    <!--property RuntimeNTPServers is not documented!-->

    <!--property FallbackNTPServers is not documented!-->

    <!--property ServerName is not documented!-->

    <!--property ServerAddress is not documented!-->

    <!--property RootDistanceMaxUSec is not documented!-->

    <!--property PollIntervalMinUSec is not documented!-->

    <!--property PollIntervalMaxUSec is not documented!-->

    <!--property PollIntervalUSec is not documented!-->

    <!--property NTPMessage is not documented!-->

    <!--property Frequency is not documented!-->

    <!--Autogenerated cross-references for systemd.directives, do not edit-->

    <variablelist class="dbus-interface" generated="True" extra-ref="org.freedesktop.timesync1.Manager"/>

    <variablelist class="dbus-interface" generated="True" extra-ref="org.freedesktop.timesync1.Manager"/>

    <variablelist class="dbus-method" generated="True" extra-ref="SetRuntimeNTPServers()"/>

    <variablelist class="dbus-property" generated="True" extra-ref="LinkNTPServers"/>

    <variablelist class="dbus-property" generated="True" extra-ref="SystemNTPServers"/>

    <variablelist class="dbus-property" generated="True" extra-ref="RuntimeNTPServers"/>

    <variablelist class="dbus-property" generated="True" extra-ref="FallbackNTPServers"/>

    <variablelist class="dbus-property" generated="True" extra-ref="ServerName"/>

    <variablelist class="dbus-property" generated="True" extra-ref="ServerAddress"/>

    <variablelist class="dbus-property" generated="True" extra-ref="RootDistanceMaxUSec"/>

    <variablelist class="dbus-property" generated="True" extra-ref="PollIntervalMinUSec"/>

    <variablelist class="dbus-property" generated="True" extra-ref="PollIntervalMaxUSec"/>

    <variablelist class="dbus-property" generated="True" extra-ref="PollIntervalUSec"/>

    <variablelist class="dbus-property" generated="True" extra-ref="NTPMessage"/>

    <variablelist class="dbus-property" generated="True" extra-ref="Frequency"/>

    <!--End of Autogenerated section-->

    <para>
      Provides information about the manager.
    </para>

  </refsect1>

  <refsect1>
    <title>Examples</title>

    <example>
      <title>Introspect <interfacename>org.freedesktop.timesync1.Manager</interfacename> on the bus</title>

      <programlisting>
$ gdbus introspect --system \
  --dest org.freedesktop.timesync1 \
  --object-path /org/freedesktop/timesync1
</programlisting>
    </example>

  </refsect1>

  <xi:include href="org.freedesktop.locale1.xml" xpointer="versioning"/>

  <refsect1>
    <title>See Also</title>
    <para><simplelist type="inline">
      <member><citerefentry><refentrytitle>systemd</refentrytitle><manvolnum>1</manvolnum></citerefentry></member>
      <member><citerefentry><refentrytitle>systemd-timesyncd.service</refentrytitle><manvolnum>8</manvolnum></citerefentry></member>
    </simplelist></para>
  </refsect1>
</refentry>
